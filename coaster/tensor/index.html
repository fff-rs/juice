<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Provides the functionality for memory management across devices."><meta name="keywords" content="rust, rustlang, rust-lang, tensor"><title>coaster::tensor - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../coaster/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../coaster/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module tensor</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../coaster/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">coaster</a>::<wbr><a class="mod" href="#">tensor</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/coaster/tensor.rs.html#1-566">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Provides the functionality for memory management across devices.</p>
<p>A Tensor is a potentially multi-dimensional matrix containing information about the actual data and its structure.
A Coaster Tensor tracks the memory copies of the numeric data of an Tensor across the devices of the Backend
and manages</p>
<ul>
<li>the location of these memory copies</li>
<li>the location of the latest memory copy and</li>
<li>the synchronisation of memory copies between devices</li>
</ul>
<p>This is important, as this provides a unified data interface for exectuing Tensor operations on CUDA, OpenCL and
common host CPU.</p>
<p>A <a href="../memory/index.html">memory copy</a> represents one logical unit of data, which might be located at the host. The
Tensor, tracks the location of the data blob across the various devices that the backend might
consist of. This allows us to run operations on various backends with the same data blob.</p>
<h3 id="terminology"><a href="#terminology">Terminology</a></h3>
<p>A Tensor is a homogeneous multi-dimensional array - a table of elements (usually numeric elements) of the same type,
indexed by tuples of positive integers. In Coaster, <code>dimensions</code> of a Tensor describe the axis for a
coordinate system. The numbers of dimensions is known as the <code>rank</code>. A scalar value like <code>3</code> has the rank 0, and a Rust array
like <code>[1, 2, 3]</code> has a rank of 1 as it has one dimension. A array of arrays like <code>[[1, 2, 3], [2, 3]]</code> has a rank
of 2 as it has two dimensions. The number of elements for a dimension is called <code>length</code>.
And the number of all elements for each dimension summed up is the <code>size</code>. These meta data about a Tensor is called
the <code>descriptor</code> of the Tensor.</p>
<h3 id="examples"><a href="#examples">Examples</a></h3>
<p>Create a SharedTensor and fill it with some numbers:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">coaster::framework::IFramework</span>;
<span class="kw">use</span> <span class="ident">coaster::frameworks::Native</span>;
<span class="kw">use</span> <span class="ident">coaster::tensor::SharedTensor</span>;
<span class="comment">// allocate memory</span>
<span class="kw">let</span> <span class="ident">native</span> <span class="op">=</span> <span class="ident">Native::new</span>();
<span class="kw">let</span> <span class="ident">device</span> <span class="op">=</span> <span class="ident">native</span>.<span class="ident">new_device</span>(<span class="ident">native</span>.<span class="ident">hardwares</span>()).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">shared_data</span> <span class="op">=</span> <span class="kw-2">&amp;mut</span> <span class="ident">SharedTensor</span>::<span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span><span class="ident">::new</span>(<span class="kw-2">&amp;</span><span class="number">5</span>);
<span class="comment">// fill memory with some numbers</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">mem</span> <span class="op">=</span> <span class="ident">shared_data</span>.<span class="ident">write_only</span>(<span class="kw-2">&amp;</span><span class="ident">device</span>).<span class="ident">unwrap</span>();
<span class="ident">mem</span>.<span class="ident">as_mut_slice</span>::<span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>().<span class="ident">clone_from_slice</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]);</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SharedTensor.html" title="coaster::tensor::SharedTensor struct">SharedTensor</a></div><div class="item-right docblock-short"><p>Container that handles synchronization of [Memory][1] of type <code>T</code>.
[1]: ../memory/index.html</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="coaster::tensor::Error enum">Error</a></div><div class="item-right docblock-short"><p>Errors than can occur when synchronizing memory.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ITensorDesc.html" title="coaster::tensor::ITensorDesc trait">ITensorDesc</a></div><div class="item-right docblock-short"><p>Describes the Descriptor of a Tensor.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IntoTensorDesc.html" title="coaster::tensor::IntoTensorDesc trait">IntoTensorDesc</a></div><div class="item-right docblock-short"><p>Describes a conversion into a Tensor Descriptor.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.TensorDesc.html" title="coaster::tensor::TensorDesc type">TensorDesc</a></div><div class="item-right docblock-short"><p>Describes the Descriptor of a SharedTensor.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="coaster" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>